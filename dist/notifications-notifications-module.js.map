{"version":3,"sources":["webpack:///./src/app/layout/notifications/notifications-routing.module.ts","webpack:///./src/app/layout/notifications/notifications.component.html","webpack:///./src/app/layout/notifications/notifications.component.scss","webpack:///./src/app/layout/notifications/notifications.component.ts","webpack:///./src/app/layout/notifications/notifications.module.ts"],"names":[],"mappings":"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","file":"notifications-notifications-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { NotificationsComponent } from './notifications.component';\n\nconst routes: Routes = [\n    {\n        path: '',\n        component: NotificationsComponent\n    }\n];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule]\n})\nexport class NotificationsRoutingModule {}\n","module.exports = \"<ng-template #content let-c=\\\"close\\\" let-d=\\\"dismiss\\\">\\n  <div class=\\\"modal-header\\\">\\n    <h4 class=\\\"modal-title\\\">Envio de notificação em massa</h4>\\n  </div>\\n  <div class=\\\"modal-body\\\">\\n    <p>Deseja enviar a notificação?</p>\\n  </div>\\n  <div class=\\\"modal-footer\\\">\\n    <button type=\\\"button\\\" class=\\\"btn btn-light\\\" (click)=\\\"c('Nosend')\\\">Não</button>\\n    <button type=\\\"button\\\" class=\\\"btn btn-light\\\" (click)=\\\"c('send')\\\">Sim</button>\\n  </div>\\n</ng-template>\\n\\n<div class=\\\"row\\\">\\n  <div class=\\\"col-lg-3\\\">\\n  </div>\\n  <div class=\\\"col-lg-6\\\">\\n    <h3>Envio de notificação</h3>\\n    <hr>\\n    <ngb-alert [type]=\\\"alert.type\\\" (close)=\\\"closeAlert(alert)\\\" *ngFor=\\\"let alert of alerts\\\">{{ alert.message }}</ngb-alert>\\n    <form role=\\\"form\\\">\\n      <div class=\\\"row\\\">\\n        <div class=\\\"col-lg-12\\\">\\n          <div class=\\\"form-group\\\">\\n            <label>Título</label>\\n            <input [(ngModel)]=\\\"titulo\\\" name=\\\"titulo\\\" class=\\\"form-control\\\" type=\\\"text\\\">\\n          </div>\\n        </div>\\n        <div class=\\\"col-lg-12\\\">\\n          <div class=\\\"form-group\\\">\\n            <label>Conteúdo</label>\\n            <textarea [(ngModel)]=\\\"conteudo\\\" name=\\\"conteudo\\\" class=\\\"form-control\\\" rows=\\\"5\\\"></textarea>\\n          </div>\\n        </div>\\n      </div>\\n      <div class=\\\"form-group\\\">\\n        <div class=\\\"row\\\">\\n          <div class=\\\"col-xl-12 text-right\\\">\\n            <button type=\\\"button\\\" class=\\\"btn btn btn-success\\\" (click)=\\\"confirm(content)\\\">Confirmar</button>\\n          </div>\\n        </div>\\n      </div>\\n    </form>\\n  </div>\\n</div>\"","module.exports = \"\"","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ActivatedRoute } from '@angular/router';\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\nimport { LoginService } from '../../services/login/login.service';\n\n@Component({\n  selector: 'app-notifications',\n  templateUrl: './notifications.component.html',\n  styleUrls: ['./notifications.component.scss']\n})\nexport class NotificationsComponent implements OnInit {\n\n  titulo: any = null;\n  conteudo: any = null;\n  public alerts: Array<any> = [];\n\n  constructor(public route: ActivatedRoute,\n              private router: Router,\n              private modalService: NgbModal,\n              private loginService: LoginService) { }\n\n  ngOnInit() {\n  }\n\n  send() {\n    if (this.validate()) {\n      this.loginService\n          .sendPushNotification(this.titulo, this.conteudo)\n          .subscribe(\n            success => {\n              this.showAlert('success', 'Notificação enviada com sucesso!');\n              this.titulo = null;\n              this.conteudo = null;\n            },\n            err => {\n              this.showAlert('danger', 'Erro ao enviar notificação: ' + err.error.text);\n            }\n          )\n    }\n  }\n\n  validate() {\n    console.log(this.titulo);\n    console.log(this.conteudo);\n    if (this.titulo == null) {\n      this.showAlert('danger', 'É necessário informar o título!');\n      return false;\n    } else if (this.conteudo == null) {\n      this.showAlert('danger', 'É necessário informar algum conteúdo!');\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  showAlert(type, err) {\n    this.alerts.push(\n        {\n            id: 1,\n            type: type,\n            message: err\n        }\n    )\n}\n\ncloseAlert(alert: any) {\n  const index: number = this.alerts.indexOf(alert);\n  this.alerts.splice(index, 1);\n}\n\nconfirm(content) {\n  this.modalService\n      .open(content, { size: 'lg' })\n      .result.then((result) => {\n          if (result == 'send') {\n              this.send();\n          }\n      });\n}\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { NgbAlertModule } from '@ng-bootstrap/ng-bootstrap';\nimport { NotificationsRoutingModule } from './notifications-routing.module';\nimport { NotificationsComponent } from './notifications.component';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        NotificationsRoutingModule,\n        NgbAlertModule.forRoot()\n        ],\n    declarations: [NotificationsComponent]\n})\nexport class NotificationsModule {}\n"],"sourceRoot":""}