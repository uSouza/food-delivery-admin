<ng-template #content let-c="close" let-d="dismiss">
    <div class="modal-header">
        <h4 class="modal-title">Rejeição do pedido</h4>
    </div>
    <div class="modal-body">
        <p>Deseja realmente rejeitar o pedido?</p>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-light" (click)="c('noReject')">Não</button>
        <button type="button" class="btn btn-light" (click)="c('reject')">Sim</button>
    </div>
</ng-template>

    <div [@routerTransition]>
        <div class="row">
           <div class="col-lg-12">
              <ngb-alert [type]="alert.type" (close)="closeAlert(alert)" *ngFor="let alert of alerts">{{ alert.message }}</ngb-alert>
              <div class="card mb-3">
                 <div class="card-header"><i class="fa fa-clock-o fa-fw"></i> Pedidos pendentes</div>
                 <h5 *ngIf="orders.length == 0">Não há pedidos para exibir</h5>
                 <table *ngIf="orders.length > 0" class="card-body table">
                    <thead>
                       <tr>
                          <th>#</th>
                          <th>Cliente</th>
                          <th>Endereço</th>
                          <th>Bairro</th>
                          <th>Preço</th>
                          <th>Aberto às</th>
                          <th>Ações</th>
                       </tr>
                    </thead>
                    <tbody *ngFor="let order of orders | paginate: { itemsPerPage: 7, currentPage: page }">
                       <tr *ngIf="order.deliver" class="table-warning">
                          <th>{{order.id}}</th>
                          <td>{{order.client.name}}</td>
                          <td>{{order.location.address}} - {{order.location.number}}</td>
                          <td>{{order.location.district}}</td>
                          <td>{{order.price | currency: 'BRL': true}}</td>
                          <td>{{order.created_at | date: 'H:mm'}}</td>
                          <td>
                             <button (click)="showOrder(order)" type="button" class="btn btn-sm btn-success">Confirmar</button>
                             <button (click)="refuseOrder(order, content)" type="button" class="btn btn-sm btn-danger">Rejeitar</button>
                          </td>
                       </tr>
                       <tr *ngIf="!order.deliver" class="table-default">
                          <th>{{order.id}}</th>
                          <td>{{order.client.name}}</td>
                          <td>Retirar no balcão</td>
                          <td>Retirar no balcão</td>
                          <td>{{order.price | currency: 'BRL': true}}</td>
                          <td>{{order.created_at | date: 'H:mm'}}</td>
                          <td>
                             <button (click)="showOrder(order)" type="button" class="btn btn-sm btn-success">Confirmar</button>
                             <button (click)="refuseOrder(order, content)" type="button" class="btn btn-sm btn-danger">Rejeitar</button>
                          </td>
                       </tr>
                    </tbody>
                 </table>
                 <div class="has-text-centered">
                    <pagination-controls
                        (pageChange)="page = $event"
                        previousLabel="Anterior"
                        nextLabel="Próximo">
                    </pagination-controls>
                </div>
              </div>
           </div>
        </div>
    </div>
